<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>InputField View</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <link rel="stylesheet" type="text/css" href="../css/common.css" />
    <style type="text/css">
    html,body{
        height: 100%;
    }
    .list {

    }
    .inputField-place {
        height: 49px;
    }
    </style>
</head>
<body class="flex-box flex-v">
    <div id="list" class="list flex-1">

    </div>
    <div class="inputField-place"></div>
</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/common.js"></script>
<script type="text/javascript">
    var UITemplate;
    var keyboardHeight;
    apiready = function(){
        fnInitWXInputField();
    };

    function fnInitWXInputField() {  // 初始化inputField模块
        WXUI().inputField(function(ret,err){
            console.log('UITemplate.openView callback=>ret:'+JSON.stringify(ret)+'___err=='+JSON.stringify(err));
            if(ret){
                if('sendMessage' == ret.type){
                    fnHandleMessage(ret.value);
                }
                else if( 'leftBtnClicked' == ret.type ){
                    WXUI().alert({
                        title: 'APICloud 温馨提示',
                        msg: '非常抱歉，该按钮功能尚未开发!'
                    })
                }
            }
        });
    }

    function fnHandleMessage(pMessage) {  // 消息处理逻辑
        if (pMessage && pMessage.length) {
            api.toast({
                msg: pMessage,
                duration: 2000,
                location: 'middle'
            });
        }
        else {
            api.toast({
                msg: '说点什么吧...',
                duration: 2000,
                location: 'middle'
            });
        }
    }


</script>
</html>
